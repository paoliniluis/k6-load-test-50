import requests, os

# Authentication

host = os.environ.get('host') if os.environ.get('host') else 'http://localhost'
port = os.environ.get('port') if os.environ.get('port') else '3000'
healthCheckEndpoint = f'{host}:{port}/api/health'
login = f'{host}:{port}/api/session'
card = f'{host}:{port}/api/card'
dashboard = f'{host}:{port}/api/dashboard/save'

model = {'name':'Orders + People + Products + Reviews','type':'model','dataset_query':{'database':2,'type':'query','query':{'source-table':24,'joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'display':'table','description':None,'visualization_settings':{'table.pivot_column':'category','table.cell_column':'subtotal'},'collection_id':None,'collection_position':1,'result_metadata':[{'description':'This is a unique ID for the product. It is also called the Invoice number or Confirmation number in customer facing emails and screens.','semantic_type':'type/PK','coercion_strategy':None,'name':'id','settings':None,'fk_target_field_id':None,'field_ref':['field',282,None],'effective_type':'type/BigInteger','id':282,'visibility_type':'normal','display_name':'ID','fingerprint':None,'base_type':'type/BigInteger'},{'description':'The id of the user who made this order. Note that in some cases where an order was created on behalf of a customer who phoned the order in, this might be the employee who handled the request.','semantic_type':'type/FK','coercion_strategy':None,'name':'user_id','settings':None,'fk_target_field_id':284,'field_ref':['field',280,None],'effective_type':'type/Integer','id':280,'visibility_type':'normal','display_name':'User ID','fingerprint':{'global':{'distinct-count':929,'nil%':0}},'base_type':'type/Integer'},{'description':'The product ID. This is an internal identifier for the product, NOT the SKU.','semantic_type':'type/FK','coercion_strategy':None,'name':'product_id','settings':None,'fk_target_field_id':301,'field_ref':['field',278,None],'effective_type':'type/Integer','id':278,'visibility_type':'normal','display_name':'Product ID','fingerprint':{'global':{'distinct-count':200,'nil%':0}},'base_type':'type/Integer'},{'description':'The raw, pre-tax cost of the order. Note that this might be different in the future from the product price due to promotions, credits, etc.','semantic_type':None,'coercion_strategy':None,'name':'subtotal','settings':None,'fk_target_field_id':None,'field_ref':['field',276,None],'effective_type':'type/Float','id':276,'visibility_type':'normal','display_name':'Subtotal','fingerprint':{'global':{'distinct-count':340,'nil%':0},'type':{'type/Number':{'min':15.691943673970439,'q1':49.74894519060184,'q3':105.42965746993103,'max':148.22900526552291,'sd':32.53705013056317,'avg':77.01295465356547}}},'base_type':'type/Float'},{'description':'This is the amount of local and federal taxes that are collected on the purchase. Note that other governmental fees on some products are not included here, but instead are accounted for in the subtotal.','semantic_type':None,'coercion_strategy':None,'name':'tax','settings':None,'fk_target_field_id':None,'field_ref':['field',275,None],'effective_type':'type/Float','id':275,'visibility_type':'normal','display_name':'Tax','fingerprint':{'global':{'distinct-count':797,'nil%':0},'type':{'type/Number':{'min':0,'q1':2.273340386603857,'q3':5.337275338216307,'max':11.12,'sd':2.3206651358900316,'avg':3.8722100000000004}}},'base_type':'type/Float'},{'description':'The total billed amount.','semantic_type':None,'coercion_strategy':None,'name':'total','settings':None,'fk_target_field_id':None,'field_ref':['field',277,None],'effective_type':'type/Float','id':277,'visibility_type':'normal','display_name':'Total','fingerprint':{'global':{'distinct-count':10000,'nil%':0},'type':{'type/Number':{'min':12.061602936923117,'q1':52.006147617878135,'q3':109.55803018499738,'max':238.32732001721533,'sd':38.35967664847571,'avg':82.96014815230805}}},'base_type':'type/Float'},{'description':'Discount amount.','semantic_type':'type/Discount','coercion_strategy':None,'name':'discount','settings':None,'fk_target_field_id':None,'field_ref':['field',283,None],'effective_type':'type/Float','id':283,'visibility_type':'normal','display_name':'Discount','fingerprint':{'global':{'distinct-count':701,'nil%':0.898},'type':{'type/Number':{'min':0.17088996672584322,'q1':2.9786226681458743,'q3':7.338187788658235,'max':61.69684269960571,'sd':3.053663125001991,'avg':5.161255547580326}}},'base_type':'type/Float'},{'description':'The date and time an order was submitted.','semantic_type':'type/CreationTimestamp','coercion_strategy':None,'unit':'default','name':'created_at','settings':None,'fk_target_field_id':None,'field_ref':['field',279,{'temporal-unit':'default'}],'effective_type':'type/DateTime','id':279,'visibility_type':'normal','display_name':'Created At','fingerprint':{'global':{'distinct-count':9998,'nil%':0},'type':{'type/DateTime':{'earliest':'2016-04-30T18:56:13.352Z','latest':'2020-04-19T14:07:15.657Z'}}},'base_type':'type/DateTime'},{'description':'Number of products bought.','semantic_type':'type/Quantity','coercion_strategy':None,'name':'quantity','settings':None,'fk_target_field_id':None,'field_ref':['field',281,None],'effective_type':'type/Integer','id':281,'visibility_type':'normal','display_name':'Quantity','fingerprint':{'global':{'distinct-count':62,'nil%':0},'type':{'type/Number':{'min':0,'q1':1.755882607764982,'q3':4.882654507928044,'max':100,'sd':4.214258386403798,'avg':3.7015}}},'base_type':'type/Integer'},{'description':'A unique identifier given to each user.','semantic_type':'type/PK','coercion_strategy':None,'name':'id_2','settings':None,'fk_target_field_id':None,'field_ref':['field',284,{'join-alias':'People - User'}],'effective_type':'type/BigInteger','id':284,'visibility_type':'normal','display_name':'People - User → ID','fingerprint':None,'base_type':'type/BigInteger'},{'description':'The street address of the accounts billing address','semantic_type':None,'coercion_strategy':None,'name':'address','settings':None,'fk_target_field_id':None,'field_ref':['field',296,{'join-alias':'People - User'}],'effective_type':'type/Text','id':296,'visibility_type':'normal','display_name':'People - User → Address','fingerprint':{'global':{'distinct-count':2490,'nil%':0},'type':{'type/Text':{'percent-json':0,'percent-url':0,'percent-email':0,'percent-state':0,'average-length':20.85}}},'base_type':'type/Text'},{'description':'The contact email for the account.','semantic_type':'type/Email','coercion_strategy':None,'name':'email','settings':None,'fk_target_field_id':None,'field_ref':['field',295,{'join-alias':'People - User'}],'effective_type':'type/Text','id':295,'visibility_type':'normal','display_name':'People - User → Email','fingerprint':{'global':{'distinct-count':2500,'nil%':0},'type':{'type/Text':{'percent-json':0,'percent-url':0,'percent-email':1,'percent-state':0,'average-length':24.1824}}},'base_type':'type/Text'},{'description':'This is the salted password of the user. It should not be visible','semantic_type':None,'coercion_strategy':None,'name':'password','settings':None,'fk_target_field_id':None,'field_ref':['field',287,{'join-alias':'People - User'}],'effective_type':'type/Text','id':287,'visibility_type':'normal','display_name':'People - User → Password','fingerprint':{'global':{'distinct-count':2500,'nil%':0},'type':{'type/Text':{'percent-json':0,'percent-url':0,'percent-email':0,'percent-state':0,'average-length':36}}},'base_type':'type/Text'},{'description':'The name of the user who owns an account','semantic_type':'type/Name','coercion_strategy':None,'name':'name','settings':None,'fk_target_field_id':None,'field_ref':['field',294,{'join-alias':'People - User'}],'effective_type':'type/Text','id':294,'visibility_type':'normal','display_name':'People - User → Name','fingerprint':{'global':{'distinct-count':2499,'nil%':0},'type':{'type/Text':{'percent-json':0,'percent-url':0,'percent-email':0,'percent-state':0,'average-length':13.532}}},'base_type':'type/Text'},{'description':'The city of the accounts billing address','semantic_type':'type/City','coercion_strategy':None,'name':'city','settings':None,'fk_target_field_id':None,'field_ref':['field',292,{'join-alias':'People - User'}],'effective_type':'type/Text','id':292,'visibility_type':'normal','display_name':'People - User → City','fingerprint':{'global':{'distinct-count':1966,'nil%':0},'type':{'type/Text':{'percent-json':0,'percent-url':0,'percent-email':0,'percent-state':0.002,'average-length':8.284}}},'base_type':'type/Text'},{'description':'This is the longitude of the user on sign-up. It might be updated in the future to the last seen location.','semantic_type':'type/Longitude','coercion_strategy':None,'name':'longitude','settings':None,'fk_target_field_id':None,'field_ref':['field',290,{'join-alias':'People - User'}],'effective_type':'type/Float','id':290,'visibility_type':'normal','display_name':'People - User → Longitude','fingerprint':{'global':{'distinct-count':2491,'nil%':0},'type':{'type/Number':{'min':-166.5425726,'q1':-101.58350792373135,'q3':-84.65289348288829,'max':-67.96735199999999,'sd':15.399698968175663,'avg':-95.18741780363999}}},'base_type':'type/Float'},{'description':'The state or province of the accounts billing address','semantic_type':'type/State','coercion_strategy':None,'name':'state','settings':None,'fk_target_field_id':None,'field_ref':['field',288,{'join-alias':'People - User'}],'effective_type':'type/Text','id':288,'visibility_type':'normal','display_name':'People - User → State','fingerprint':{'global':{'distinct-count':49,'nil%':0},'type':{'type/Text':{'percent-json':0,'percent-url':0,'percent-email':0,'percent-state':1,'average-length':2}}},'base_type':'type/Text'},{'description':'The channel through which we acquired this user. Valid values include: Affiliate, Facebook, Google, Organic and Twitter','semantic_type':'type/Source','coercion_strategy':None,'name':'source','settings':None,'fk_target_field_id':None,'field_ref':['field',291,{'join-alias':'People - User'}],'effective_type':'type/Text','id':291,'visibility_type':'normal','display_name':'People - User → Source','fingerprint':{'global':{'distinct-count':5,'nil%':0},'type':{'type/Text':{'percent-json':0,'percent-url':0,'percent-email':0,'percent-state':0,'average-length':7.4084}}},'base_type':'type/Text'},{'description':'The date of birth of the user','semantic_type':None,'coercion_strategy':None,'unit':'default','name':'birth_date','settings':None,'fk_target_field_id':None,'field_ref':['field',286,{'temporal-unit':'default','join-alias':'People - User'}],'effective_type':'type/Date','id':286,'visibility_type':'normal','display_name':'People - User → Birth Date','fingerprint':{'global':{'distinct-count':2308,'nil%':0},'type':{'type/DateTime':{'earliest':'1958-04-26','latest':'2000-04-03'}}},'base_type':'type/Date'},{'description':'The postal code of the accounts billing address','semantic_type':None,'coercion_strategy':None,'name':'zip','settings':None,'fk_target_field_id':None,'field_ref':['field',285,{'join-alias':'People - User'}],'effective_type':'type/Text','id':285,'visibility_type':'normal','display_name':'People - User → Zip','fingerprint':{'global':{'distinct-count':2234,'nil%':0},'type':{'type/Text':{'percent-json':0,'percent-url':0,'percent-email':0,'percent-state':0,'average-length':5}}},'base_type':'type/Text'},{'description':'This is the latitude of the user on sign-up. It might be updated in the future to the last seen location.','semantic_type':'type/Latitude','coercion_strategy':None,'name':'latitude','settings':None,'fk_target_field_id':None,'field_ref':['field',293,{'join-alias':'People - User'}],'effective_type':'type/Float','id':293,'visibility_type':'normal','display_name':'People - User → Latitude','fingerprint':{'global':{'distinct-count':2491,'nil%':0},'type':{'type/Number':{'min':25.775827,'q1':35.302705923023126,'q3':43.773802584662,'max':70.6355001,'sd':6.390832341883712,'avg':39.87934670484002}}},'base_type':'type/Float'},{'description':'The date the user record was created. Also referred to as the users \'join date\'','semantic_type':'type/CreationTimestamp','coercion_strategy':None,'unit':'default','name':'created_at_2','settings':None,'fk_target_field_id':None,'field_ref':['field',289,{'temporal-unit':'default','join-alias':'People - User'}],'effective_type':'type/DateTime','id':289,'visibility_type':'normal','display_name':'People - User → Created At','fingerprint':{'global':{'distinct-count':2500,'nil%':0},'type':{'type/DateTime':{'earliest':'2016-04-19T21:35:18.752Z','latest':'2019-04-19T14:06:27.3Z'}}},'base_type':'type/DateTime'},{'description':'The numerical product number. Only used internally. All external communication should use the title or EAN.','semantic_type':'type/PK','coercion_strategy':None,'name':'id_3','settings':None,'fk_target_field_id':None,'field_ref':['field',301,{'join-alias':'Products'}],'effective_type':'type/BigInteger','id':301,'visibility_type':'normal','display_name':'Products → ID','fingerprint':None,'base_type':'type/BigInteger'},{'description':'The international article number. A 13 digit number uniquely identifying the product.','semantic_type':None,'coercion_strategy':None,'name':'ean','settings':None,'fk_target_field_id':None,'field_ref':['field',299,{'join-alias':'Products'}],'effective_type':'type/Text','id':299,'visibility_type':'normal','display_name':'Products → Ean','fingerprint':{'global':{'distinct-count':200,'nil%':0},'type':{'type/Text':{'percent-json':0,'percent-url':0,'percent-email':0,'percent-state':0,'average-length':13}}},'base_type':'type/Text'},{'description':'The name of the product as it should be displayed to customers.','semantic_type':'type/Title','coercion_strategy':None,'name':'title','settings':None,'fk_target_field_id':None,'field_ref':['field',303,{'join-alias':'Products'}],'effective_type':'type/Text','id':303,'visibility_type':'normal','display_name':'Products → Title','fingerprint':{'global':{'distinct-count':199,'nil%':0},'type':{'type/Text':{'percent-json':0,'percent-url':0,'percent-email':0,'percent-state':0,'average-length':21.495}}},'base_type':'type/Text'},{'description':'The type of product, valid values include: Doohicky, Gadget, Gizmo and Widget','semantic_type':'type/Category','coercion_strategy':None,'name':'category','settings':None,'fk_target_field_id':None,'field_ref':['field',298,{'join-alias':'Products'}],'effective_type':'type/Text','id':298,'visibility_type':'normal','display_name':'Products → Category','fingerprint':{'global':{'distinct-count':4,'nil%':0},'type':{'type/Text':{'percent-json':0,'percent-url':0,'percent-email':0,'percent-state':0,'average-length':6.375}}},'base_type':'type/Text'},{'description':'The source of the product.','semantic_type':'type/Company','coercion_strategy':None,'name':'vendor','settings':None,'fk_target_field_id':None,'field_ref':['field',302,{'join-alias':'Products'}],'effective_type':'type/Text','id':302,'visibility_type':'normal','display_name':'Products → Vendor','fingerprint':{'global':{'distinct-count':200,'nil%':0},'type':{'type/Text':{'percent-json':0,'percent-url':0,'percent-email':0,'percent-state':0,'average-length':20.6}}},'base_type':'type/Text'},{'description':'The list price of the product. Note that this is not always the price the product sold for due to discounts, promotions, etc.','semantic_type':None,'coercion_strategy':None,'name':'price','settings':None,'fk_target_field_id':None,'field_ref':['field',304,{'join-alias':'Products'}],'effective_type':'type/Float','id':304,'visibility_type':'normal','display_name':'Products → Price','fingerprint':{'global':{'distinct-count':170,'nil%':0},'type':{'type/Number':{'min':15.691943673970439,'q1':37.25154462926434,'q3':75.45898071609447,'max':98.81933684368194,'sd':21.711481557852057,'avg':55.74639966792074}}},'base_type':'type/Float'},{'description':'The average rating users have given the product. This ranges from 1 - 5','semantic_type':'type/Score','coercion_strategy':None,'name':'rating','settings':None,'fk_target_field_id':None,'field_ref':['field',300,{'join-alias':'Products'}],'effective_type':'type/Float','id':300,'visibility_type':'normal','display_name':'Products → Rating','fingerprint':{'global':{'distinct-count':23,'nil%':0},'type':{'type/Number':{'min':0,'q1':3.5120465053408525,'q3':4.216124969497314,'max':5,'sd':1.3605488657451452,'avg':3.4715}}},'base_type':'type/Float'},{'description':'The date the product was added to our catalog.','semantic_type':'type/CreationTimestamp','coercion_strategy':None,'unit':'default','name':'created_at_3','settings':None,'fk_target_field_id':None,'field_ref':['field',297,{'temporal-unit':'default','join-alias':'Products'}],'effective_type':'type/DateTime','id':297,'visibility_type':'normal','display_name':'Products → Created At','fingerprint':{'global':{'distinct-count':200,'nil%':0},'type':{'type/DateTime':{'earliest':'2016-04-26T19:29:55.147Z','latest':'2019-04-15T13:34:19.931Z'}}},'base_type':'type/DateTime'},{'description':'A unique internal identifier for the review. Should not be used externally.','semantic_type':'type/PK','coercion_strategy':None,'name':'id_4','settings':None,'fk_target_field_id':None,'field_ref':['field',308,{'join-alias':'Reviews'}],'effective_type':'type/BigInteger','id':308,'visibility_type':'normal','display_name':'Reviews → ID','fingerprint':None,'base_type':'type/BigInteger'},{'description':'The product the review was for','semantic_type':'type/FK','coercion_strategy':None,'name':'product_id_2','settings':None,'fk_target_field_id':301,'field_ref':['field',307,{'join-alias':'Reviews'}],'effective_type':'type/Integer','id':307,'visibility_type':'normal','display_name':'Reviews → Product ID','fingerprint':{'global':{'distinct-count':176,'nil%':0}},'base_type':'type/Integer'},{'description':'The user who left the review','semantic_type':None,'coercion_strategy':None,'name':'reviewer','settings':None,'fk_target_field_id':None,'field_ref':['field',306,{'join-alias':'Reviews'}],'effective_type':'type/Text','id':306,'visibility_type':'normal','display_name':'Reviews → Reviewer','fingerprint':{'global':{'distinct-count':1076,'nil%':0},'type':{'type/Text':{'percent-json':0,'percent-url':0,'percent-email':0,'percent-state':0.001798561151079137,'average-length':9.972122302158274}}},'base_type':'type/Text'},{'description':'The rating (on a scale of 1-5) the user left.','semantic_type':'type/Score','coercion_strategy':None,'name':'rating_2','settings':None,'fk_target_field_id':None,'field_ref':['field',309,{'join-alias':'Reviews'}],'effective_type':'type/Integer','id':309,'visibility_type':'normal','display_name':'Reviews → Rating','fingerprint':{'global':{'distinct-count':5,'nil%':0},'type':{'type/Number':{'min':1,'q1':3.54744353181696,'q3':4.764807071650455,'max':5,'sd':1.0443899855660577,'avg':3.987410071942446}}},'base_type':'type/Integer'},{'description':'The review the user left. Limited to 2000 characters.','semantic_type':None,'coercion_strategy':None,'name':'body','settings':None,'fk_target_field_id':None,'field_ref':['field',310,{'join-alias':'Reviews'}],'effective_type':'type/Text','id':310,'visibility_type':'normal','display_name':'Reviews → Body','fingerprint':{'global':{'distinct-count':1112,'nil%':0},'type':{'type/Text':{'percent-json':0,'percent-url':0,'percent-email':0,'percent-state':0,'average-length':177.41996402877697}}},'base_type':'type/Text'},{'description':'The day and time a review was written by a user.','semantic_type':'type/CreationTimestamp','coercion_strategy':None,'unit':'default','name':'created_at_4','settings':None,'fk_target_field_id':None,'field_ref':['field',305,{'temporal-unit':'default','join-alias':'Reviews'}],'effective_type':'type/DateTime','id':305,'visibility_type':'normal','display_name':'Reviews → Created At','fingerprint':{'global':{'distinct-count':1112,'nil%':0},'type':{'type/DateTime':{'earliest':'2016-06-03T00:37:05.818Z','latest':'2020-04-19T14:15:25.677Z'}}},'base_type':'type/DateTime'}]}

modelDashboard = {'auto_apply_filters':True,'parameters':[],'param_fields':{},'more':'/auto/dashboard/model/125#show=all','transient_name':'Heres a quick look at \'Orders + People + Products + Reviews\'','creator_id':1,'related':{'zoom-out':[{'url':'/auto/dashboard/table/24','title':'Orders','description':'Some metrics we found about transactions.'}]},'width':'fixed','transient_filters':None,'name':'A look at \'Orders + People + Products + Reviews\'','dashcards':[{'size_x':24,'dashboard_tab_id':None,'creator_id':1,'card':{'name':None,'display':'text','dataset_query':{},'visualization_settings':{}},'col':0,'id':'G__369094','visualization_settings':{'text':'# Summary','virtual_card':{'name':None,'display':'text','dataset_query':{},'visualization_settings':{}},'dashcard.background':False,'text.align_vertical':'bottom'},'size_y':2,'row':0,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':6,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'Total Orders + People + Products + Reviews','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['count']],'breakout':[],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369011','display':'scalar','visualization_settings':{'graph.series_labels':[None],'graph.metrics':['count'],'graph.dimensions':None}},'col':0,'id':'G__369107','card_id':'G__369011','visualization_settings':{},'size_y':3,'row':2,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':6,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'Orders + People + Products + Reviews added in the last 30 days','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['count']],'breakout':[],'filter':['and',['time-interval',['field',289,{'temporal-unit':'month'}],-30,'day']],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369012','display':'scalar','visualization_settings':{'graph.series_labels':[None],'graph.metrics':['count'],'graph.dimensions':None}},'col':6,'id':'G__369111','card_id':'G__369012','visualization_settings':{},'size_y':3,'row':2,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':6,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'Distinct User ID','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['distinct',['field',284,{'source-field':280}]]],'breakout':[],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369014','display':'scalar','visualization_settings':{'graph.series_labels':[None],'graph.metrics':['distinct'],'graph.dimensions':None}},'col':12,'id':'G__369115','card_id':'G__369014','visualization_settings':{},'size_y':3,'row':2,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':24,'dashboard_tab_id':None,'creator_id':1,'card':{'name':None,'display':'text','dataset_query':{},'visualization_settings':{}},'col':0,'id':'G__369117','visualization_settings':{'text':'# Where these Orders + People + Products + Reviews are','virtual_card':{'name':None,'display':'text','dataset_query':{},'visualization_settings':{}},'dashcard.background':False,'text.align_vertical':'bottom'},'size_y':2,'row':5,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'Orders + People + Products + Reviews per state','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['count']],'breakout':[['field',288,None]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369036','display':'map','visualization_settings':{'map.type':'region','map.region':'us_states','graph.series_labels':[None],'graph.metrics':['count'],'graph.dimensions':['state']}},'col':0,'id':'G__369122','card_id':'G__369036','visualization_settings':{},'size_y':6,'row':7,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'Orders + People + Products + Reviews by coordinates','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['count']],'breakout':[['field',290,None],['field',293,None]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369038','display':'map','visualization_settings':{'graph.series_labels':[None],'graph.metrics':['count'],'graph.dimensions':['longitude','latitude']}},'col':12,'id':'G__369126','card_id':'G__369038','visualization_settings':{},'size_y':6,'row':7,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':24,'dashboard_tab_id':None,'creator_id':1,'card':{'name':None,'display':'text','dataset_query':{},'visualization_settings':{}},'col':0,'id':'G__369129','visualization_settings':{'text':'# These Orders + People + Products + Reviews across time','virtual_card':{'name':None,'display':'text','dataset_query':{},'visualization_settings':{}},'dashcard.background':False,'text.align_vertical':'bottom'},'size_y':2,'row':13,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'New Orders + People + Products + Reviews over time','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['count']],'breakout':[['field',297,{'temporal-unit':'month'}]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369039','display':'line','visualization_settings':{'graph.series_labels':[None],'graph.metrics':['count'],'graph.dimensions':['created_at_3'],'graph.colors':['#F9D45C']}},'col':0,'id':'G__369132','card_id':'G__369039','visualization_settings':{},'size_y':6,'row':15,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'New Orders + People + Products + Reviews over time','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['count']],'breakout':[['field',305,{'temporal-unit':'month'}]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369040','display':'line','visualization_settings':{'graph.series_labels':[None],'graph.metrics':['count'],'graph.dimensions':['created_at_4'],'graph.colors':['#F9D45C']}},'col':12,'id':'G__369136','card_id':'G__369040','visualization_settings':{},'size_y':6,'row':15,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'New Orders + People + Products + Reviews over time','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['count']],'breakout':[['field',279,{'temporal-unit':'month'}]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369041','display':'line','visualization_settings':{'graph.series_labels':[None],'graph.metrics':['count'],'graph.dimensions':['created_at'],'graph.colors':['#F9D45C']}},'col':0,'id':'G__369141','card_id':'G__369041','visualization_settings':{},'size_y':6,'row':21,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'New Orders + People + Products + Reviews over time','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['count']],'breakout':[['field',289,{'temporal-unit':'month'}]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369043','display':'line','visualization_settings':{'graph.series_labels':[None],'graph.metrics':['count'],'graph.dimensions':['created_at_2'],'graph.colors':['#F9D45C']}},'col':12,'id':'G__369145','card_id':'G__369043','visualization_settings':{},'size_y':6,'row':21,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'Timestamp by day of the week','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['count']],'breakout':[['field',286,{'temporal-unit':'day-of-week'}]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369055','display':'bar','visualization_settings':{'graph.series_labels':[None],'graph.metrics':['count'],'graph.dimensions':['birth_date'],'graph.colors':['#F9D45C'],'graph.x_axis.title_text':'Timestamp'}},'col':0,'id':'G__369148','card_id':'G__369055','visualization_settings':{},'size_y':6,'row':27,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'Weekdays when Orders + People + Products + Reviews were added','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['count']],'breakout':[['field',297,{'temporal-unit':'day-of-week'}]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369060','display':'bar','visualization_settings':{'graph.series_labels':[None],'graph.metrics':['count'],'graph.dimensions':['created_at_3'],'graph.colors':['#F2A86F'],'graph.x_axis.title_text':'Products → Created At by day of the week'}},'col':12,'id':'G__369152','card_id':'G__369060','visualization_settings':{},'size_y':6,'row':27,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'Weekdays when Orders + People + Products + Reviews were added','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['count']],'breakout':[['field',305,{'temporal-unit':'day-of-week'}]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369061','display':'bar','visualization_settings':{'graph.series_labels':[None],'graph.metrics':['count'],'graph.dimensions':['created_at_4'],'graph.colors':['#A989C5'],'graph.x_axis.title_text':'Reviews → Created At by day of the week'}},'col':0,'id':'G__369155','card_id':'G__369061','visualization_settings':{},'size_y':6,'row':33,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'Weekdays when Orders + People + Products + Reviews were added','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['count']],'breakout':[['field',279,{'temporal-unit':'day-of-week'}]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369063','display':'bar','visualization_settings':{'graph.series_labels':[None],'graph.metrics':['count'],'graph.dimensions':['created_at'],'graph.colors':['#F9D45C'],'graph.x_axis.title_text':'Created At by day of the week'}},'col':12,'id':'G__369158','card_id':'G__369063','visualization_settings':{},'size_y':6,'row':33,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'Weekdays when Orders + People + Products + Reviews were added','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['count']],'breakout':[['field',289,{'temporal-unit':'day-of-week'}]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369064','display':'bar','visualization_settings':{'graph.series_labels':[None],'graph.metrics':['count'],'graph.dimensions':['created_at_2'],'graph.colors':['#7172AD'],'graph.x_axis.title_text':'People - User → Created At by day of the week'}},'col':0,'id':'G__369162','card_id':'G__369064','visualization_settings':{},'size_y':6,'row':39,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'Hours when Orders + People + Products + Reviews were added','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['count']],'breakout':[['field',297,{'temporal-unit':'hour-of-day'}]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369066','display':'bar','visualization_settings':{'graph.series_labels':[None],'graph.metrics':['count'],'graph.dimensions':['created_at_3'],'graph.colors':['#F2A86F'],'graph.x_axis.title_text':'Products → Created At by hour of the day'}},'col':12,'id':'G__369165','card_id':'G__369066','visualization_settings':{},'size_y':6,'row':39,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'Hours when Orders + People + Products + Reviews were added','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['count']],'breakout':[['field',305,{'temporal-unit':'hour-of-day'}]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369067','display':'bar','visualization_settings':{'graph.series_labels':[None],'graph.metrics':['count'],'graph.dimensions':['created_at_4'],'graph.colors':['#A989C5'],'graph.x_axis.title_text':'Reviews → Created At by hour of the day'}},'col':0,'id':'G__369169','card_id':'G__369067','visualization_settings':{},'size_y':6,'row':45,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'Discount over time','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['sum',['field',283,None]],['avg',['field',283,None]]],'breakout':[['field',297,{'temporal-unit':'month'}]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369049','display':'line','visualization_settings':{'graph.series_labels':[None,None],'graph.metrics':['sum','avg'],'graph.dimensions':['created_at_3'],'graph.colors':['#98D9D9','#F2A86F']}},'col':12,'id':'G__369173','card_id':'G__369049','visualization_settings':{},'size_y':6,'row':45,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'Discount over time','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['sum',['field',283,None]],['avg',['field',283,None]]],'breakout':[['field',305,{'temporal-unit':'month'}]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369051','display':'line','visualization_settings':{'graph.series_labels':[None,None],'graph.metrics':['sum','avg'],'graph.dimensions':['created_at_4'],'graph.colors':['#98D9D9','#F2A86F']}},'col':0,'id':'G__369178','card_id':'G__369051','visualization_settings':{},'size_y':6,'row':51,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'Discount over time','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['sum',['field',283,None]],['avg',['field',283,None]]],'breakout':[['field',279,{'temporal-unit':'month'}]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369052','display':'line','visualization_settings':{'graph.series_labels':[None,None],'graph.metrics':['sum','avg'],'graph.dimensions':['created_at'],'graph.colors':['#98D9D9','#F2A86F']}},'col':12,'id':'G__369182','card_id':'G__369052','visualization_settings':{},'size_y':6,'row':51,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'Discount over time','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['sum',['field',283,None]],['avg',['field',283,None]]],'breakout':[['field',289,{'temporal-unit':'month'}]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369054','display':'line','visualization_settings':{'graph.series_labels':[None,None],'graph.metrics':['sum','avg'],'graph.dimensions':['created_at_2'],'graph.colors':['#98D9D9','#F2A86F']}},'col':0,'id':'G__369185','card_id':'G__369054','visualization_settings':{},'size_y':6,'row':57,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'Discount over time','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['sum',['field',283,None]],['avg',['field',283,None]]],'breakout':[['field',286,{'temporal-unit':'year'}]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369047','display':'line','visualization_settings':{'graph.series_labels':[None,None],'graph.metrics':['sum','avg'],'graph.dimensions':['birth_date'],'graph.colors':['#98D9D9','#F2A86F']}},'col':12,'id':'G__369189','card_id':'G__369047','visualization_settings':{},'size_y':6,'row':57,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':24,'dashboard_tab_id':None,'creator_id':1,'card':{'name':None,'display':'text','dataset_query':{},'visualization_settings':{}},'col':0,'id':'G__369191','visualization_settings':{'text':'# How these Orders + People + Products + Reviews are distributed','virtual_card':{'name':None,'display':'text','dataset_query':{},'visualization_settings':{}},'dashcard.background':False,'text.align_vertical':'bottom'},'size_y':2,'row':63,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'Orders + People + Products + Reviews by Tax','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['count']],'breakout':[['field',275,{'binning':{'strategy':'default'}}]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369016','display':'bar','visualization_settings':{'graph.series_labels':[None],'graph.metrics':['count'],'graph.dimensions':['tax'],'graph.colors':['#509EE3']}},'col':0,'id':'G__369194','card_id':'G__369016','visualization_settings':{},'size_y':6,'row':65,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'Orders + People + Products + Reviews by Products → Rating','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['count']],'breakout':[['field',300,{'binning':{'strategy':'default'}}]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369020','display':'bar','visualization_settings':{'graph.series_labels':[None],'graph.metrics':['count'],'graph.dimensions':['rating'],'graph.colors':['#98D9D9']}},'col':12,'id':'G__369198','card_id':'G__369020','visualization_settings':{},'size_y':6,'row':65,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'Orders + People + Products + Reviews by Quantity','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['count']],'breakout':[['field',281,{'binning':{'strategy':'default'}}]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369022','display':'bar','visualization_settings':{'graph.series_labels':[None],'graph.metrics':['count'],'graph.dimensions':['quantity'],'graph.colors':['#88BF4D']}},'col':0,'id':'G__369201','card_id':'G__369022','visualization_settings':{},'size_y':6,'row':71,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'Orders + People + Products + Reviews by Reviews → Rating','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['count']],'breakout':[['field',309,{'binning':{'strategy':'default'}}]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369024','display':'bar','visualization_settings':{'graph.series_labels':[None],'graph.metrics':['count'],'graph.dimensions':['rating_2'],'graph.colors':['#88BF4D']}},'col':12,'id':'G__369205','card_id':'G__369024','visualization_settings':{},'size_y':6,'row':71,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'Orders + People + Products + Reviews by Products → Price','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['count']],'breakout':[['field',304,{'binning':{'strategy':'default'}}]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369026','display':'bar','visualization_settings':{'graph.series_labels':[None],'graph.metrics':['count'],'graph.dimensions':['price'],'graph.colors':['#EF8C8C']}},'col':0,'id':'G__369209','card_id':'G__369026','visualization_settings':{},'size_y':6,'row':77,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'Orders + People + Products + Reviews by Subtotal','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['count']],'breakout':[['field',276,{'binning':{'strategy':'default'}}]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369028','display':'bar','visualization_settings':{'graph.series_labels':[None],'graph.metrics':['count'],'graph.dimensions':['subtotal'],'graph.colors':['#EF8C8C']}},'col':12,'id':'G__369212','card_id':'G__369028','visualization_settings':{},'size_y':6,'row':77,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'Orders + People + Products + Reviews by Total','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['count']],'breakout':[['field',277,{'binning':{'strategy':'default'}}]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369030','display':'bar','visualization_settings':{'graph.series_labels':[None],'graph.metrics':['count'],'graph.dimensions':['total'],'graph.colors':['#98D9D9']}},'col':0,'id':'G__369216','card_id':'G__369030','visualization_settings':{},'size_y':6,'row':83,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'Orders + People + Products + Reviews by Discount','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['count']],'breakout':[['field',283,{'binning':{'strategy':'default'}}]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369032','display':'bar','visualization_settings':{'graph.series_labels':[None],'graph.metrics':['count'],'graph.dimensions':['discount'],'graph.colors':['#509EE3']}},'col':12,'id':'G__369220','card_id':'G__369032','visualization_settings':{},'size_y':6,'row':83,'dashboard_id':'/auto/dashboard/model/125?'},{'size_x':12,'dashboard_tab_id':None,'card':{'description':None,'table_id':24,'can_run_adhoc_query':True,'database_id':2,'collection_id':None,'query_type':'query','name':'Orders + People + Products + Reviews per Products → Category','creator_id':1,'dataset_query':{'database':2,'type':'query','query':{'aggregation':[['count']],'breakout':[['field',298,None]],'source-table':'card__125','joins':[{'fields':'all','strategy':'left-join','alias':'People - User','condition':['=',['field',280,{'base-type':'type/Integer'}],['field',284,{'base-type':'type/BigInteger','join-alias':'People - User'}]],'source-table':26},{'fields':'all','strategy':'left-join','alias':'Products','condition':['=',['field',278,{'base-type':'type/Integer'}],['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}]],'source-table':22},{'fields':'all','strategy':'left-join','alias':'Reviews','condition':['=',['field',301,{'base-type':'type/BigInteger','join-alias':'Products'}],['field',307,{'base-type':'type/Integer','join-alias':'Reviews'}]],'source-table':23}]}},'id':'G__369034','display':'row','visualization_settings':{'graph.series_labels':[None],'graph.metrics':['count'],'graph.dimensions':['category'],'graph.colors':['#A989C5']}},'col':0,'id':'G__369224','card_id':'G__369034','visualization_settings':{},'size_y':8,'row':89,'dashboard_id':'/auto/dashboard/model/125?'}],'description':'An overview of \'Orders + People + Products + Reviews\' and how its distributed across time, place, and categories.'}

def health():
    response = requests.get(healthCheckEndpoint, verify=False)
    if response.json()['status'] == 'ok':
        return 'healthy'
    else:
        health()

if health() == 'healthy' and os.environ.get('retry') is None:
    session = requests.Session()
    try:
        sessionToken = session.post(login, verify=False, json={'username': 'a@b.com', 'password':'metabot1'}).json()['id']
        
        session.post(card, data = model)
        session.post(dashboard, data = modelDashboard)

    except:
        exit()